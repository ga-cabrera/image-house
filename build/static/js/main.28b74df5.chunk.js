(this["webpackJsonpmeme-house"]=this["webpackJsonpmeme-house"]||[]).push([[0],{27:function(e,a,t){e.exports=t(78)},32:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},68:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},78:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(19),r=t.n(c),o=(t(32),t(20)),m=t(21),s=t(26),i=t(22),d=t(5),u=t(25),g=t(2),p=t.n(g);t(51),t(52);var h=function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"meme-wrapper-header"}),l.a.createElement("div",{className:"meme-wrapper"},e.memeGallery[0]?e.memeGallery.map((function(a){return l.a.createElement("div",{className:"meme image is-square",key:a._id},l.a.createElement("img",{alt:"meme","data-id":a._id,"data-url":a.meme,"data-likes":a.likes,src:a.meme,onClick:function(a){return e.showZoomedMeme(a)}}),l.a.createElement("div",{className:"is-overlay","data-id":a._id,"data-url":a.meme,"data-likes":a.likes,src:a.meme,onClick:function(a){return e.showZoomedMeme(a)}},l.a.createElement("span",{className:"has-text-white like-count is-unselectable",onClick:function(a){return e.showZoomedMeme(a)}},l.a.createElement("i",{className:"fas fa-crown"})," ",a.likes)))})):l.a.createElement("div",null,l.a.createElement("h1",{className:"subtitle"},"Hmm.. Try a different time"))))};var f=function(e){return l.a.createElement("button",{className:"button has-background-success has-text-white-bis","data-tip":"Create a Meme",id:"add-meme",onClick:function(){return e.toggleModal("generator")}},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-pencil-alt"})))};var E=function(e){return l.a.createElement("button",{className:"button has-background-link has-text-white-bis","data-tip":"Upload a Meme",onClick:e.uploadWidget},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-upload"})))};t(53);var v=function(){return l.a.createElement("button",{className:"button has-background-grey-darker has-text-white-bis","data-tip":"Log In"},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"far fa-user"})))},b=t(23),k=t.n(b);var N=function(e){return l.a.createElement("nav",{className:"navbar is-fixed-top is-transparent",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item",href:"/"},l.a.createElement("img",{src:"https://images.onlinelabels.com/images/clip-art/pitr/pitr_Home_icon.png",className:"logo",alt:"logo",width:"28",height:"28"}),l.a.createElement("h1",{className:"title app-name"},"meme house")),l.a.createElement("button",{className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasic"},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{id:"navbarBasic",className:"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement("div",{className:"navbar-item"})),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},l.a.createElement(k.a,{place:"bottom",effect:"solid"}),l.a.createElement(E,{uploadWidget:e.uploadWidget}),l.a.createElement(f,{toggleModal:e.toggleModal}),l.a.createElement(v,null))))))};t(68);var M=function(e){return l.a.createElement("div",{className:"box leaderboard-container"},l.a.createElement("h1",{className:"subtitle"},"King of the Memes"),l.a.createElement("div",{className:"leaderboard"},l.a.createElement("div",{className:"scrolling-wrapper"},e.memeLeaders[0]?e.memeLeaders.map((function(a){return l.a.createElement("div",{className:"lead-meme",key:a._id},l.a.createElement("img",{"data-id":a._id,src:a.meme,"data-url":a.meme,key:a._id,"data-likes":a.likes,onClick:function(a){return e.showZoomedMeme(a)},alt:"meme",className:"lead-meme-img"}))})):l.a.createElement("div",null,l.a.createElement("h1",{className:"subtitle "},"Hmm.. No leaders yet")))))},w=t(3),y=t.n(w),x=t(4),L=t(6),D=t.n(L);t(70);var B=function(){return l.a.createElement("div",{className:"columns is-hidden-touch"},l.a.createElement("div",{className:"column fake-footer-text"},l.a.createElement("a",{href:"https://github.com/madeleineprak/Meme-House",target:"_blank",rel:"noopener noreferrer"},"GitHub"),l.a.createElement("br",null),l.a.createElement("p",null,"\xa9 2020 MEME HOUSE")))};t(71),t(72);var C=function(){var e=this,a=n.useRef(null),t=n.useState([]),l=Object(x.a)(t,2),c=l[0],r=l[1],o=n.useState(""),m=Object(x.a)(o,2),s=m[0],i=m[1],d=n.useState(""),u=Object(x.a)(d,2),g=u[0],h=u[1],f=n.useState(""),E=Object(x.a)(f,2),v=E[0],b=E[1];function k(e){"text-top"===e.target.name?h(e.target.value):b(e.target.value)}var N=window.cloudinary.createUploadWidget({cloudName:"traphouse",uploadPreset:"memehouse",tags:["meme"]},(function(a,t){"success"===t.event&&(console.log("Success! added to your Database -- ".concat(t.info.url)),p.a.post("/api/putData",{meme:t.info.url}).then((function(a){var t=a.config.data,n=[];n.push(t),e.setState({memeArray:n})})).then((function(){e.getDataFromDB()})).then((function(){e.getLeadersFromDB()})).catch((function(e){console.log(e)})),window.location.reload())}));return n.useEffect((function(){!function(){var e,a,t;y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).catch((function(e){return console.error(e)})));case 2:return e=n.sent,n.next=5,y.a.awrap(e.data);case 5:return a=n.sent,t=a.memes,n.next=9,y.a.awrap(r(t));case 9:return n.next=11,y.a.awrap(i(t[16].url));case 11:case"end":return n.stop()}}))}()}),[]),n.createElement("div",{className:"columns meme-gen-columns"},n.createElement("div",{className:"column"},n.createElement("form",{className:"form"},n.createElement("div",{className:"formInputs"},n.createElement("input",{name:"text-top",placeholder:"Top Text",type:"text",value:g,onChange:k}),n.createElement("input",{name:"text-bottom",placeholder:"Bottom Text",type:"text",value:v,onChange:k})),n.createElement("div",{className:"formButtons"},n.createElement("label",{className:"button is-link",htmlFor:"fileInput"},n.createElement("span",{className:"file-label"},"Add Image"),n.createElement("input",{id:"fileInput",name:"fileInput",type:"file",accept:".jpg, .jpeg, .png",onChange:function(e){i(window.URL.createObjectURL(e.target.files[0]))},hidden:!0})),n.createElement("button",{className:"button is-danger",type:"button",onClick:function(){var e=c[Math.floor(Math.random()*c.length)];i(e.url)}},"Randomize"),n.createElement("button",{className:"button is-warning",type:"button",onClick:function(){D.a.toPng(a.current).then((function(e){window.saveAs(e,"meme.png")}))}},"Download"),n.createElement("button",{className:"button is-success",type:"button",onClick:function(){D.a.toPng(a.current).then((function(e){N.open(null,{files:[e]})}))}},n.createElement("span",{className:"file-icon"},n.createElement("i",{className:"fas fa-upload"})),n.createElement("span",{className:"file-label"},"Upload")))),n.createElement("hr",null),n.createElement(B,null)),n.createElement("div",{className:"column"},n.createElement("div",{className:"content",ref:a},n.createElement("img",{src:s,alt:"Meme"}),n.createElement("h1",{className:"textTop"},g),n.createElement("h1",{className:"textBottom"},v))))};t(74);var I=function(e){return l.a.createElement("div",{id:"generator",className:"generator-modal modal"},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-content has-background-white meme-gen-container"},l.a.createElement("header",{className:"modal-card-head"},l.a.createElement("p",{className:"modal-card-title"},"Create a Meme"),l.a.createElement("button",{className:"delete",onClick:function(){return e.toggleModal("generator")},"aria-label":"close"})),l.a.createElement("section",{className:"modal-card-body"},l.a.createElement(C,null))))};t(75);var S=function(e){return l.a.createElement("div",{id:"zoom",className:"zoom-modal modal"},l.a.createElement("div",{className:"modal-background"}),l.a.createElement("div",{className:"modal-content has-background-white "},l.a.createElement("p",{className:"image is-loading"},l.a.createElement("img",{src:e.clickedMemeUrl,alt:"meme"})),l.a.createElement("div",{className:"social-section"},l.a.createElement("span",{"data-id":e.clickedMemeId,onClick:function(){return e.likeMeme()},className:"like-button"},l.a.createElement("i",{className:"fas fa-crown"})),l.a.createElement("span",null,"  ",e.clickedMemeLikes," ",e.date)),l.a.createElement("button",{className:"modal-close is-large",onClick:function(){return e.toggleModal("zoom")},"aria-label":"close"})))},j=t(24),U=t.n(j),O={padding:"3px",borderRadius:"50px",right:"3rem",bottom:"2rem",backgroundColor:"red",outline:0,zIndex:20},_=function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(s.a)(this,(e=Object(i.a)(a)).call.apply(e,[this].concat(l)))).state={memeArray:[],meme:null,memeGallery:[],memeLeaders:[],clickedMemeUrl:"",clickedMemeId:"",clickedMemeLikes:0},t.getDataFromDB=function(){p.a.get("http://localhost:3001/api/memes/").then((function(e){return t.setState({memeGallery:e.data})}))},t.getLeadersFromDB=function(){p.a.get("http://localhost:3001/api/leaders/").then((function(e){return t.setState({memeLeaders:e.data})}))},t.toggleModal=function(e){document.getElementById(e).classList.toggle("is-active")},t.likeMeme=function(){var e=parseInt(t.state.clickedMemeLikes)+1;p.a.post("http://localhost:3001/updateData",{id:t.state.clickedMemeId,update:e}).then((function(e){return console.log(e)})).then(t.setState({clickedMemeLikes:e})).then(t.getDataFromDB()).then(t.getLeadersFromDB())},t.showZoomedMeme=function(e){t.setState({clickedMemeUrl:e.target.dataset.url,clickedMemeId:e.target.dataset.id,clickedMemeLikes:e.target.dataset.likes,date:e.target.dataset.createdAt}),t.toggleModal("zoom")},t.uploadWidget=function(){window.cloudinary.openUploadWidget({cloud_name:"traphouse",upload_preset:"memehouse",tags:["meme"]},function(e,a){var t=this;console.log("************* uploading... *************"),console.log(a),"success"===a.event&&(console.log("Success! added to your Database -- ".concat(a.info.url)),p.a.post("/api/putData",{meme:a.info.url}).then((function(e){var a=e.config.data,n=[];n.push(a),t.setState({memeArray:n})})).then((function(){t.getDataFromDB()})).then((function(){t.getLeadersFromDB()})).catch((function(e){console.log(e)})))}.bind(Object(d.a)(t)))},t}return Object(u.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getDataFromDB(),this.getLeadersFromDB();var e=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);e.length>0&&e.forEach((function(e){e.addEventListener("click",(function(){var a=e.dataset.target,t=document.getElementById(a);e.classList.toggle("is-active"),t.classList.toggle("is-active")}))}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"wrapper"},l.a.createElement(U.a,{style:O,ToggledStyle:O}),l.a.createElement(I,{toggleModal:this.toggleModal}),l.a.createElement(S,{toggleModal:this.toggleModal,clickedMemeId:this.state.clickedMemeId,clickedMemeUrl:this.state.clickedMemeUrl,clickedMemeLikes:this.state.clickedMemeLikes,likeMeme:this.likeMeme}),l.a.createElement(N,{toggleModal:this.toggleModal,uploadWidget:this.uploadWidget}),l.a.createElement("div",{className:"columns is-desktop is-centered"},l.a.createElement("div",{className:"column is-2-desktop"},l.a.createElement("div",{className:"aside"},l.a.createElement(M,{memeLeaders:this.state.memeLeaders,showZoomedMeme:this.showZoomedMeme}),l.a.createElement(B,null))),l.a.createElement("div",{className:"column is-7-desktop "},l.a.createElement(h,{showZoomedMeme:this.showZoomedMeme,memeGallery:this.state.memeGallery,toggleModal:this.toggleModal,clickedMemeUrl:this.clickedMemeLikes}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.28b74df5.chunk.js.map